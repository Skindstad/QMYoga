@page "/videoplayer"
@rendermode InteractiveServer

@if (Video is null)
    {
        <span class="error">Video not found</span>
        return;
    }

<div class="container">
    <button class="back-button" @onclick="BackToPlaylists">ðŸ ˆ Tilbage</button>
    <div class="header">
        <span class="title">@Video.Title</span>
        <div class="spacer"></div>
        <span class="new">Ny</span>
        <button class="bookmark">Bookmark</button>
    </div>
    <div class="video-container">
        <div class="thumbnail-container @(IsVideoActive ? "" : "active")" @onclick="ActivateVideo">
            <svg class="play-symbol" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="45" stroke="black" stroke-width="5" fill="none"/>
                <polygon points="35,25 70,50 35,75" fill="black"/>
            </svg>
            <img class="thumbnail " src="@Video.Thumbnail"/>
        </div>
        @if (IsVideoActive)
        {
            <video class="video @(IsVideoActive ? "active" : "")" autoplay="@IsVideoActive" controls>
                <source src="@Video.Url">
            </video>
        }
    </div>
    <div class="tags">
        @foreach (var tag in Video.Tags)
        {
            <span class="tag">@tag.Name</span>
        }
    </div>

    <div class="description">
        @Video.Description
    </div>

    <div class="playlist">
        @if (PrevVideo is not null)
        {
            <a class="playlist-link" href="videoplayer?playlistid=@PlaylistId&videoid=@PrevVideo.Id">
                <div class="playlist-prev">
                    <span class="prev-arrow">ðŸ ˆ</span>
                    <img src=@PrevVideo.Thumbnail>
                </div>
            </a>
        }
        <div class="spacer"></div>

        @if (NextVideo is not null)
        {
            <a class="playlist-link" href="videoplayer?playlistid=@PlaylistId&videoid=@NextVideo.Id">
                <div class="playlist-next">
                    <img src=@NextVideo.Thumbnail>
                    <span class="next-arrow">ðŸ Š</span>
                </div>
            </a>
        }
    </div>
</div>
